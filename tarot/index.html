<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Tarot Reader</title>
<script src="tarotcards.js" language="JavaScript" type="text/javascript"></script>
</head>
<body>
<script>
// Fisher-Yates shuffle
Array.prototype.shuffle = function() {
    var input = this;
     
    for (var i = input.length-1; i >=0; i--) {
     
        var randomIndex = Math.floor(Math.random()*(i+1)); 
        var itemAtIndex = input[randomIndex]; 
         
        input[randomIndex] = input[i]; 
        input[i] = itemAtIndex;
    }
    return input;
}

tarotcards.shuffle(); // from tarotcards.js

var n=0;

function takeOne() {
	
	if (n==tarotcards.length){
		document.getElementById("message").innerHTML = "You have reached the end of the deck.";
	} else {
		var ud = upDown(0,1);
		if (ud==1) {  
			tarotcards[n].image = tarotcards[n].image1;
			tarotcards[n].interpretation = tarotcards[n].interpretation1;
		} else {
			tarotcards[n].card = tarotcards[n].card+" <i>inverted</i>";
			tarotcards[n].image = tarotcards[n].image0;
			tarotcards[n].interpretation = tarotcards[n].interpretation0;
		}
		var cardno = n+1;
		var cardsleft = tarotcards.length - n-1;
		document.getElementById("message").innerHTML = "<img src='"+tarotcards[n].image+"' width=300 height=550 align=left hspace=20><h2>"+tarotcards[n].card+"</h2><strong>Description:</strong> "+tarotcards[n].description+"<p><strong>Divinatory Meanings:</strong> "+tarotcards[n].interpretation+"<p>Count: "+cardno+", "+cardsleft+" cards left. "+tarotcards.length+" cards in the deck.";

		n++;
	}
}

function upDown(min, max) {
  return Math.floor(Math.random() * (max - min + 1) + min);
}

</script>
<h3>Pick a card. </h3>
<form name="myform">
<input name='pick' type='button' value='pick' onclick='takeOne()'> | <input name='reshuffle' type='button' value='reshuffle' onclick='window.location.reload()'>
</form> 
</p>
<p><div id="message"><img src="back.jpg" width=300 height=550 align=left hspace=20></div></p>


</body>
</html>
